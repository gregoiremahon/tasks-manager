<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
	<!-- CSS styles -->
	
	<div class="dropdown" data-bs-theme="light"></div>
	<title><a href="/tasks">Task Manager</a></title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
	
		<!-- Header -->
		<header class="mb-3">
			<nav class="navbar navbar-expand-lg navbar-light bg-light">
				<a class="navbar-brand" href="#">tasks-manager</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
				  <span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
				  <ul class="navbar-nav">
					<li class="nav-item active">
					  <a class="nav-link" href="/tasks">Home <span class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item">
					  <a class="nav-link" href="/new_task">Add a new task</a>
					</li>
					<li class="nav-item">
						<a class="nav-link disabled" href="/disabled">Coming soon...</a>
					</li>
				  </ul>
				</div>
			  </nav>
		</header>

		<div id="app">

		<!-- tasks list -->
		<main>
			
			<h1 class="display-4">Liste des tâches </h1>
			<table class="table">
				<thead>
				  <tr>
					<th>Titre</th>
					<th>Description</th>
					<th>Date d'échéance</th>
					<th>Complétée</th>
					<th>Supprimer cette tache</th>
				  </tr>
				</thead>
				<tbody>
				  {% if tasks %}
					{% for task in tasks %}
					  {% if not task.completed %}
					  <tr class="table-info">
						<td>{{ task.title }}</td>
						<td>{{ task.description }}</td>
						<td>{{ task.due_date }}</td>
						<td>
						  {% if task.completed %}
						  <span class="badge bg-success">Oui</span>
						  {% else %}
						  <span class="badge bg-danger">Non</span>
						  {% endif %}
						</td>
						<td><button class="btn btn-danger" :@click="deleteTask(task)">-</button></td> 
					  </tr>
					  {% endif %}
					{% endfor %}
				  {% else %}
				  <tr>
					<td colspan="5">Pas de tâches, souhaitez-vous en ajouter ?</td>
				  </tr>
				  {% endif %}
				</tbody>
			  </table>
		</main>
	</div>	

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
	<script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>
	
	<link rel="stylesheet" type="text/css" href="../css/styles.css">
	<link rel="stylesheet" type="text/css" href="templates/tasks-manager-styles.css">
	<script src="static/js/script.js"></script>
</body>
</html>